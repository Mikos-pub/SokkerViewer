CREATE TABLE system( version INTEGER NOT NULL );
INSERT INTO system (version) VALUES (1);
ALTER TABLE arena ADD COLUMN note VARCHAR NULL;
CREATE TABLE training (id_training INTEGER GENERATED BY DEFAULT AS IDENTITY (START WITH 1) PRIMARY KEY, date date NOT NULL, time time NOT NULL, type IN  NOT NULL, formation INTEGER NOT NULL, note VARCHAR NULL,  CONSTRAINT training_pk PRIMARY KEY (id_training)) ;
CREATE INDEX training_index ON training(id_training);
ALTER TABLE coach ADD COLUMN note VARCHAR NULL;
ALTER TABLE junior ADD COLUMN note VARCHAR NULL;
ALTER TABLE player ADD COLUMN note VARCHAR NULL;
ALTER TABLE player ADD COLUMN id_position TINYINT NULL;
ALTER TABLE player ADD COLUMN sold_price DOUBLE NULL;
ALTER TABLE player ADD COLUMN buy_price INTEGER NULL;
ALTER TABLE player_skills ADD COLUMN id_training_fk INTEGER NULL;
ALTER TABLE player_skills ADD COLUMN note VARCHAR NULL;
ALTER TABLE player_skills ADD CONSTRAINT player_skills_id_training_fk_fkey FOREIGN KEY (id_training_fk) REFERENCES training (id_training) ON UPDATE NO ACTION ON DELETE SET NULL;
CREATE TABLE coaches_at_trainings ( id_training INTEGER NOT NULL, id_coach INTEGER NOT NULL, id_job INTEGER NOT NULL, note VARCHAR NULL,  CONSTRAINT coaches_at_trainings_pk PRIMARY KEY (id_training, id_coach), CONSTRAINT coaches_at_trainings_id_coach_fk FOREIGN KEY (id_coach) REFERENCES coach (id_coach) ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT coaches_at_trainings_id_training_fk FOREIGN KEY (id_training) REFERENCES training (id_training) ON UPDATE NO ACTION ON DELETE CASCADE );
ALTER TABLE junior_skills ADD COLUMN id_training_fk INTEGER NULL;
ALTER TABLE junior_skills ADD COLUMN note VARCHAR NULL;
ALTER TABLE junior_skills ADD CONSTRAINT junior_skills_id_training_fk_fkey FOREIGN KEY (id_training_fk) REFERENCES training (id_training) ON UPDATE NO ACTION ON DELETE SET NULL;
ALTER TABLE club ADD COLUMN note VARCHAR NULL;
CREATE TABLE assistant (id_position TINYINT NOT NULL, form TINYINT DEFAULT 0 NOT NULL, stamina TINYINT DEFAULT 0 NOT NULL, pace TINYINT DEFAULT 0 NOT NULL, technique TINYINT DEFAULT 0 NOT NULL, passing TINYINT DEFAULT 0 NOT NULL, keeper TINYINT DEFAULT 0 NOT NULL, defender TINYINT DEFAULT 0 NOT NULL, playmaker TINYINT DEFAULT 0 NOT NULL, scorer TINYINT DEFAULT 0 NOT NULL,  CONSTRAINT assistant_id_position_fk PRIMARY KEY (id_position));
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (1, 10, 8, 8, 8, 6, 56, 2, 2, 0);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (2, 10, 10, 10, 10, 10, 0, 40, 10, 0);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (3, 10, 10, 15, 10, 10, 0, 35, 10, 0);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (4, 10, 10, 10, 15, 10, 0, 30, 15, 0);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (5, 10, 10, 8, 14, 12, 0, 8, 30, 8);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (6, 10, 10, 8, 12, 12, 0, 15, 25, 8);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (7, 10, 10, 8, 14, 14, 0, 8, 24, 12);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (8, 10, 10, 12, 14, 12, 0, 8, 26, 8);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (9, 10, 10, 10, 12, 13, 0, 7, 12, 26);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (10, 10, 10, 13, 8, 13, 0, 6, 7, 33);
INSERT INTO assistant (id_position, form, stamina, pace, technique, passing, keeper, defender, playmaker, scorer) VALUES (11, 0, 0, 0, 0, 0, 0, 0, 0, 0);
CREATE TABLE note (id_note IDENTITY, date date NOT NULL, time time NOT NULL, title varchar, text varchar, alert_date date, alert_time time, mod_date date, mod_time time, checked BOOLEAN DEFAULT false, CONSTRAINT notes_id_note_pkey PRIMARY KEY (id_note));
CREATE INDEX note_index ON note(id_note);